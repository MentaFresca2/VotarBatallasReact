<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Votar Batalla</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <script src="./script.js"></script>
</head>

<body class="flex justify-center w-screen h-[100%]">
  <main class="w-3/5 max-sm:w-screen max-sm:bg-none h-[100%]">
    <section>
      <label class="Titulos block">
        Nombres:<input id="inputNombres1" class="inputNombres" oninput="cambiarNombres()">    <input id="inputNombres2" class="inputNombres" oninput="cambiarNombres()">
      </label>


      <label class="Titulos block">
        NÂºCasillas:<input id="inputnumCasillas" class="inputnumCasillas" oninput="agregarNuevaCasillaVotar()" value="6">
      </label>

      <label id="labelMC1" class="labelMC block">
        MC1:<div id="divCasillasVotar1" class="divCasillasVotar"></div>   <input type="number" id="ResultadoCasilla1" class="ResultadoCasilla" readonly>
      </label>
      <label id="labelMC2" class="labelMC block">
        MC2:<div id="divCasillasVotar2" class="divCasillasVotar"></div> <input type="number" id="ResultadoCasilla2" class="ResultadoCasilla" readonly>
      </label>
  
      <button id="buttonResultados" onclick="darResultados()" class="buttonnormal">Resultados</button>


      <div class="divResultados">
        <label id="resultados" class="resultados"></label>
      </div>
      
     
    </section>

    <section class="mt-8">
        <label class="Titulos">Online:</label>
        <div class="mb-3">
          <button id="buttonSubirResultados" onclick="SubirVotacion()" class="buttonnormal w-[160px]">Enviar puntuacion</button>
          <input id="salaresultados" class="inputNombres">
          <button id="buttonBorrarBaseDatos" onclick="BorrarBaseDatos()" class="buttonnormalRed">BorrarTabla</button>
        </div>

        <button id="buttonVerResultadosOnline" onclick="obtenerYMostrarPuntuaciones()" class="buttonnormal w-[160px]">Ver puntuaciones</button>

        <div>
          <label id="ResOnline1" class="labelMC"></label>
          <label id="ResOnline2" class="labelMC"></label>
          <label id="ResOnline3" class="labelMC"></label>
        </div>


        <label id="salasDisponiblesAlIniciar" class="labelMC"></label>


    </section>
    <footer class="contenedor bg-gray-500 text-cyan-200 flex fixed bottom-0 w-[60vw] h-[15vh]">
      <div>
        <button class="button-container" onclick="puntuarcas(0)">0</button>
        <button class="button-container" onclick="puntuarcas(0.5)">0.5</button>
      </div>
      <div>
        <button  class="button-container" onclick="puntuarcas(1)">1</button>
        <button class="button-container" onclick="puntuarcas(1.5)">1.5</button>
      </div>
      <div>
        <button class="button-container" onclick="puntuarcas(2)">2</button>
        <button class="button-container" onclick="puntuarcas(2.5)">2.5</button>
      </div>
      <div>
        <button class="button-container" onclick="puntuarcas(3)">3</button>
        <button class="button-container" onclick="puntuarcas(3.5)">3.5</button>
      </div>
      <button class="button-container" onclick="puntuarcas(4)" value="4">4</button>
    </footer>
  </main>
</body>


<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
// Funciones iniciales 
agregarNuevaCasillaVotar();

// Configura tu proyecto de Firebase
const firebaseConfig = {
    apiKey: "AIzaSyDYIdOGS1yRTAHPtNR3ggwBhFFMJtWHTqs",
    authDomain: "votarbatallabase.firebaseapp.com",
    databaseURL: "https://votarbatallabase-default-rtdb.firebaseio.com",
    projectId: "votarbatallabase",
    storageBucket: "votarbatallabase.appspot.com",
    messagingSenderId: "374987296431",
    appId: "1:374987296431:web:c3341eb0832d8c96310e5a",
    measurementId: "G-HSM1Y8TRVB"
};
// Inicializa Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

borrarBaseDeDatos1Dia();

obtenerNombresNodos();

</script>
</html>